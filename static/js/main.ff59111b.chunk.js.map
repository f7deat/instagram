{"version":3,"sources":["comment.js","post.js","firebase.js","modal.js","upload.js","sidebar.js","App.js","serviceWorker.js","index.js"],"names":["Comment","className","aria-label","fill","height","viewBox","width","d","Post","user","image","caption","useState","like","setLike","src","alt","onDoubleClick","onClick","clipRule","fillRule","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Modal","open","setOpen","email","setEmail","password","setPassword","setUser","confirmPassword","setConfirmPassword","isSignUp","setIsSignUp","error","setError","comparePassword","style","color","fontWeight","type","placeholder","value","onChange","e","target","padding","borderBottom","createUserWithEmailAndPassword","then","catch","message","signInWithEmailAndPassword","substring","indexOf","Upload","setCaption","setImage","progress","setProgress","files","ref","name","put","on","snapshot","percent","Math","round","bytesTransferred","totalBytes","alert","child","getDownloadURL","url","collection","add","disabled","Sidebar","textAlign","href","App","posts","setPosts","useEffect","onSnapshot","docs","map","doc","id","post","data","key","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.ff59111b.chunk.js","sourcesContent":["import React from 'react';\r\nimport './css/comment.css';\r\n\r\nfunction Comment() {\r\n    return (\r\n        <div className=\"comment\">\r\n            <textarea className=\"comment-control\"></textarea>\r\n            <button className=\"comment-submit\">\r\n            <svg aria-label=\"Direct\" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"></path></svg>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment","import React, {useState} from 'react';\r\nimport './css/post.css';\r\nimport Comment from './comment';\r\n\r\nfunction Post({user, image, caption}) {\r\n\r\n    const [like, setLike] = useState('#262626')\r\n\r\n    return (\r\n        <div className=\"shadow post\">\r\n            <div className=\"post-user\">\r\n                <div className=\"post-user-avatar\">\r\n                    <img src={image} alt=\"\" className=\"user-avatar\"/>\r\n                </div>\r\n                <div className=\"post-user-username\">\r\n                    {user}\r\n                </div>\r\n            </div>\r\n            <figure>\r\n                <img src={image} alt=\"\" className=\"post__image\" onDoubleClick={() => setLike('tomato')}/>\r\n            </figure>\r\n            <div className=\"post-action\">\r\n                <svg onClick={() => setLike('tomato')} className=\"mr-1r cursor-pointer\" fill={like} height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path></svg>\r\n                <svg aria-label=\"Bình luận\" className=\"mr-1r cursor-pointer\" fill=\"#262626\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path clipRule=\"evenodd\" d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\" fillRule=\"evenodd\"></path></svg>\r\n                <svg aria-label=\"Chia sẻ bài viết\" className=\"mr-1r cursor-pointer\" fill=\"#262626\" height=\"24\" viewBox=\"0 0 48 48\" width=\"24\"><path d=\"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z\"></path></svg>\r\n            </div>\r\n            <div className=\"post-caption\">{caption}</div>\r\n            <Comment/>\r\n        </div>\r\n    )\r\n}\r\nexport default Post","import firebase from 'firebase'\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyB_A6-PJMxkdZPP6nZD5pWwmMNBr0upE_w\",\r\n  authDomain: \"instagram-48891.firebaseapp.com\",\r\n  databaseURL: \"https://instagram-48891.firebaseio.com\",\r\n  projectId: \"instagram-48891\",\r\n  storageBucket: \"instagram-48891.appspot.com\",\r\n  messagingSenderId: \"294065804481\",\r\n  appId: \"1:294065804481:web:05905c0796ca48e49b7040\",\r\n  measurementId: \"G-BDV0J4V1ZJ\"\r\n  });\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport {db, auth, storage};","import React, { useState } from 'react';\r\nimport './css/modal.css';\r\nimport { auth } from './firebase';\r\n\r\nfunction Modal({ open, setOpen, email, setEmail, password, setPassword, setUser }) {\r\n\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [isSignUp, setIsSignUp] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const signIn = () => {\r\n        if (email && password) {\r\n            auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                setOpen(false);\r\n                setUser(email.substring(0, email.indexOf(\"@\")));\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            })\r\n        }\r\n        else {\r\n            setError('Please input email and password!');\r\n        }\r\n    }\r\n\r\n    const signUp = () => {\r\n        if (comparePassword()) {\r\n            auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                setOpen(false);\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message);\r\n            })\r\n        }\r\n        else {\r\n            setError('Password not matched!');\r\n        }\r\n    }\r\n\r\n    const comparePassword = () => {\r\n        if(password && confirmPassword && password === confirmPassword) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={open ? \"modal show\" : \"modal d-none\"}>\r\n            <div className=\"modal-dialog shadow\">\r\n                <div className=\"modal-title\">\r\n                    {isSignUp ? \"Sign Up\" : \"Login\"}\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <div className=\"mb-1r\" style={{ color: \"darkred\", fontWeight: \"bold\" }}>\r\n                        {error}\r\n                    </div>\r\n                    <input type=\"email\" className=\"form-control mb-1r\" placeholder=\"Email\" value={email} onChange={(e) => {\r\n                        setEmail(e.target.value)\r\n                        setError('')\r\n                    }} />\r\n                    <input type=\"password\" className=\"form-control mb-1r\" value={password} onChange={(e) => {\r\n                        setPassword(e.target.value)\r\n                        setError('')\r\n                    }} placeholder=\"Password\" />\r\n                    <input type=\"password\" className={isSignUp ? \"form-control\" : \"form-control d-none\"} value={confirmPassword} onChange={(e) => {\r\n                        setConfirmPassword(e.target.value)\r\n                        setError('')\r\n                    }} placeholder=\"Confirm password\" />\r\n                </div>\r\n                <div className=\"modal-footer d-flex\">\r\n                    <div className=\"flex-grow-1\" style={{ color: \"#aaa\" }}>\r\n                        {isSignUp ? (\r\n                            <div style={{padding: '1rem'}}>\r\n                                ready account <span className=\"cursor-pointer\" style={{ color: \"green\", borderBottom: \"1px dashed #d1d1d1\" }} onClick={() => setIsSignUp(false)}>login</span>\r\n                            </div>\r\n                        ) : (\r\n                                <div style={{padding: '1rem'}}>\r\n                                    join with us <span className=\"cursor-pointer\" style={{ color: \"tomato\", borderBottom: \"1px dashed #d1d1d1\" }} onClick={() => {\r\n                                        setIsSignUp(true)\r\n                                    }}>register</span>\r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <button className=\"btn btn-primary mr-1r\" onClick={() => setOpen(false)}>Cancel</button>\r\n                        {\r\n                            isSignUp ? (\r\n                                <span>\r\n                                    <button className=\"btn btn-primary\" onClick={() => signUp()}>Sign Up</button>\r\n                                </span>\r\n                            ) : (\r\n                                <span>\r\n                                    <button className=\"btn btn-primary\" onClick={() => {\r\n                                        signIn()\r\n                                        setError('')\r\n                                    }}>Login</button>\r\n                                </span>\r\n                            )\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal","import React, { useState } from 'react';\r\nimport './css/upload.css';\r\nimport { storage, db } from './firebase';\r\n\r\nfunction Upload(user) {\r\n\r\n    const [caption, setCaption] = useState('');\r\n    const [image, setImage] = useState(null);\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const handleUpload = () => {\r\n        const uploadTask = storage.ref(`image/${image.name}`).put(image);\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => {\r\n                const percent = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\r\n                setProgress(percent);\r\n            },\r\n            (error) => alert(error.message),\r\n            () => {\r\n                storage\r\n                .ref('image')\r\n                .child(image.name)\r\n                .getDownloadURL()\r\n                .then((url) => {\r\n                    debugger\r\n                    db.collection(\"posts\").add({\r\n                        caption: caption,\r\n                        image: url,\r\n                        user: user.user.user\r\n                    });\r\n                    setProgress(0);\r\n                    setImage(null);\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"text\" className=\"form-control mb-1r\" placeholder=\"What do you thing?\" onChange={(e) => setCaption(e.target.value)} value={caption}/>\r\n            <input type=\"file\" className=\"form-control mb-1r\" onChange={handleChange}/>\r\n            <div className=\"progress\">\r\n                <div className=\"progress-bar\" style={{width: progress + '%'}}></div>\r\n            </div>\r\n            <button className=\"btn-upload\" onClick={handleUpload} disabled={(user.user.user !== 'Guest') ? false : true}>Upload</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Upload","import React from 'react';\r\nimport './css/sidebar.css';\r\nimport Upload from './upload';\r\n\r\nfunction Sidebar(user) {\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar-item shadow\">\r\n                <div className=\"user\">\r\n                    <div style={{ color: '#aaa' }}>\r\n                        Hi, <b style={{ color: 'black' }}> {user.user}</b>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"sidebar-item shadow\">\r\n                <Upload user={user} />\r\n            </div>\r\n            <div style={{ textAlign: 'right', color: '#aaa' }}>\r\n                2020 - <a href=\"https://github.com/f7deat/instagram\">f7deat</a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar","import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport Post from './post';\r\nimport { db } from './firebase';\r\nimport Modal from './modal';\r\nimport Sidebar from './sidebar';\r\n\r\nfunction App() {\r\n\r\n  const [posts, setPosts] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [user, setUser] = useState('Guest');\r\n\r\n  useEffect(() => {\r\n    db.collection('posts').onSnapshot(snapshot => {\r\n      setPosts(snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        post: doc.data()\r\n      })));\r\n    })\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"app__header\">\r\n        <div className=\"container\">\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-grow-1\">\r\n              <img src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" className=\"app__headerImage\" alt=\"logo\" />\r\n            </div>\r\n            <div className=\"control\">\r\n              <button className=\"btn\">\r\n                <svg aria-label=\"Home\" className=\"mr-1r\" fill=\"#262626\" height=\"22\" viewBox=\"0 0 48 48\" width=\"22\"><path d=\"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z\"></path></svg>\r\n              </button>\r\n              <button className=\"btn\" onClick={() => setOpen(true)}>\r\n              <svg aria-label=\"Trang cá nhân\" className=\"\" fill=\"#262626\" height=\"22\" viewBox=\"0 0 32 32\" width=\"22\"><path d=\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"></path></svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container d-flex h-100\">\r\n        <div className=\"col-8 mb-1r\">\r\n        {\r\n          posts.map(({ id, post }) => (\r\n            <Post key={id} user={post.user} image={post.image} caption={post.caption}/>\r\n          ))\r\n        }\r\n        </div>\r\n        <div className=\"col-4 mb-1r\">\r\n          <Sidebar user={user}/>\r\n        </div>\r\n      </div>\r\n      <Modal open={open} setOpen={setOpen} email={email} setEmail={setEmail} password={password} setPassword={setPassword} setUser={setUser}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}